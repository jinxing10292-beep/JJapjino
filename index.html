<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>온라인 카지노</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <header>
        <h1>🎰 온라인 카지노</h1>
        <div class="header-controls">
            <div class="user-info" id="user-info" style="display: none;">
                <span id="user-nickname">Guest</span>
                <button class="logout-btn" onclick="logout()">로그아웃</button>
            </div>
            <button class="login-btn" id="login-btn" onclick="showLogin()">🔐 로그인</button>
            <button class="help-btn" onclick="showHelp()">❓ 도움말</button>
            <button class="stats-btn" onclick="showStats()">📊 통계</button>
            <button class="ranking-btn" onclick="showRanking()">🏆 랭킹</button>
            <div class="balance">
                <span>잔액: $<span id="balance">1000</span></span>
            </div>
        </div>
    </header>

    <main>
        <div class="game-selection">
            <h2>게임 선택</h2>
            <div class="games-grid">
                <div class="game-card" onclick="showGame('roulette')">
                    <h3>🎯 룰렛</h3>
                    <p>숫자와 색깔에 베팅하세요</p>
                </div>
                <div class="game-card" onclick="showGame('blackjack')">
                    <h3>🃏 블랙잭</h3>
                    <p>21에 가까운 숫자를 만드세요</p>
                </div>
                <div class="game-card" onclick="showGame('slots')">
                    <h3>🎰 슬롯머신</h3>
                    <p>같은 기호를 맞춰보세요</p>
                </div>
                <div class="game-card" onclick="showGame('poker')">
                    <h3>🃏 포커</h3>
                    <p>최고의 패를 만드세요</p>
                </div>
                <div class="game-card" onclick="showGame('baccarat')">
                    <h3>🎴 바카라</h3>
                    <p>플레이어 vs 뱅커</p>
                </div>
                <div class="game-card" onclick="showGame('dice')">
                    <h3>🎲 주사위</h3>
                    <p>주사위 합을 맞춰보세요</p>
                </div>
                <div class="game-card" onclick="showGame('coinflip')">
                    <h3>🪙 동전던지기</h3>
                    <p>앞면 또는 뒷면</p>
                </div>
                <div class="game-card" onclick="showGame('rps')">
                    <h3>✂️ 가위바위보</h3>
                    <p>컴퓨터와 가위바위보 도박</p>
                </div>
                <div class="game-card" onclick="showGame('racing')">
                    <h3>🐌 달팽이 레이싱</h3>
                    <p>어느 달팽이가 이길까요?</p>
                </div>
                <div class="game-card" onclick="showGame('wheel')">
                    <h3>🎡 행운의 바퀴</h3>
                    <p>큰 상금을 노려보세요</p>
                </div>
                <div class="game-card" onclick="showGame('lottery')">
                    <h3>🎫 복권</h3>
                    <p>번호를 맞춰 잭팟을 노리세요</p>
                </div>
                <div class="game-card" onclick="showGame('crash')">
                    <h3>🚀 크래시</h3>
                    <p>언제 멈출지 결정하세요</p>
                </div>
                <div class="game-card" onclick="showGame('sports')">
                    <h3>⚽ 스포츠 토토</h3>
                    <p>가상 스포츠 경기에 베팅</p>
                </div>
                <div class="game-card pvp-card" onclick="showGame('pvp-blackjack')">
                    <h3>🃏 PvP 블랙잭</h3>
                    <p>다른 플레이어와 대결</p>
                    <span class="pvp-badge">PvP</span>
                </div>
                <div class="game-card pvp-card" onclick="showGame('pvp-poker')">
                    <h3>🃏 PvP 포커</h3>
                    <p>실시간 포커 대전</p>
                    <span class="pvp-badge">PvP</span>
                </div>
                <div class="game-card pvp-card" onclick="showGame('pvp-rps')">
                    <h3>✂️ PvP 가위바위보</h3>
                    <p>빠른 대전 모드</p>
                    <span class="pvp-badge">PvP</span>
                </div>
            </div>
        </div>

        <!-- 룰렛 게임 -->
        <div id="roulette-game" class="game-container" style="display: none;">
            <h2>룰렛</h2>
            <div class="roulette-wheel">
                <div id="wheel" class="wheel">
                    <div class="pointer"></div>
                    <div class="wheel-numbers">
                        <div class="number red">32</div>
                        <div class="number black">15</div>
                        <div class="number red">19</div>
                        <div class="number black">4</div>
                        <div class="number red">21</div>
                        <div class="number black">2</div>
                        <div class="number red">25</div>
                        <div class="number black">17</div>
                        <div class="number red">34</div>
                        <div class="number black">6</div>
                        <div class="number red">27</div>
                        <div class="number black">13</div>
                        <div class="number red">36</div>
                        <div class="number black">11</div>
                        <div class="number red">30</div>
                        <div class="number black">8</div>
                        <div class="number red">23</div>
                        <div class="number black">10</div>
                        <div class="number red">5</div>
                        <div class="number black">24</div>
                        <div class="number red">16</div>
                        <div class="number black">33</div>
                        <div class="number red">1</div>
                        <div class="number black">20</div>
                        <div class="number red">14</div>
                        <div class="number black">31</div>
                        <div class="number red">9</div>
                        <div class="number black">22</div>
                        <div class="number red">18</div>
                        <div class="number black">29</div>
                        <div class="number red">7</div>
                        <div class="number black">28</div>
                        <div class="number red">12</div>
                        <div class="number black">35</div>
                        <div class="number red">3</div>
                        <div class="number black">26</div>
                        <div class="number green">0</div>
                    </div>
                </div>
            </div>
            <div class="roulette-table">
                <div class="betting-grid">
                    <div class="number-grid">
                        <div class="bet-number green" onclick="placeBet('number', 0)">0</div>
                        <div class="bet-number red" onclick="placeBet('number', 1)">1</div>
                        <div class="bet-number black" onclick="placeBet('number', 2)">2</div>
                        <div class="bet-number red" onclick="placeBet('number', 3)">3</div>
                        <div class="bet-number black" onclick="placeBet('number', 4)">4</div>
                        <div class="bet-number red" onclick="placeBet('number', 5)">5</div>
                        <div class="bet-number black" onclick="placeBet('number', 6)">6</div>
                        <div class="bet-number red" onclick="placeBet('number', 7)">7</div>
                        <div class="bet-number black" onclick="placeBet('number', 8)">8</div>
                        <div class="bet-number red" onclick="placeBet('number', 9)">9</div>
                        <div class="bet-number black" onclick="placeBet('number', 10)">10</div>
                        <div class="bet-number black" onclick="placeBet('number', 11)">11</div>
                        <div class="bet-number red" onclick="placeBet('number', 12)">12</div>
                        <div class="bet-number black" onclick="placeBet('number', 13)">13</div>
                        <div class="bet-number red" onclick="placeBet('number', 14)">14</div>
                        <div class="bet-number black" onclick="placeBet('number', 15)">15</div>
                        <div class="bet-number red" onclick="placeBet('number', 16)">16</div>
                        <div class="bet-number black" onclick="placeBet('number', 17)">17</div>
                        <div class="bet-number red" onclick="placeBet('number', 18)">18</div>
                        <div class="bet-number red" onclick="placeBet('number', 19)">19</div>
                        <div class="bet-number black" onclick="placeBet('number', 20)">20</div>
                        <div class="bet-number red" onclick="placeBet('number', 21)">21</div>
                        <div class="bet-number black" onclick="placeBet('number', 22)">22</div>
                        <div class="bet-number red" onclick="placeBet('number', 23)">23</div>
                        <div class="bet-number black" onclick="placeBet('number', 24)">24</div>
                        <div class="bet-number red" onclick="placeBet('number', 25)">25</div>
                        <div class="bet-number black" onclick="placeBet('number', 26)">26</div>
                        <div class="bet-number red" onclick="placeBet('number', 27)">27</div>
                        <div class="bet-number black" onclick="placeBet('number', 28)">28</div>
                        <div class="bet-number black" onclick="placeBet('number', 29)">29</div>
                        <div class="bet-number red" onclick="placeBet('number', 30)">30</div>
                        <div class="bet-number black" onclick="placeBet('number', 31)">31</div>
                        <div class="bet-number red" onclick="placeBet('number', 32)">32</div>
                        <div class="bet-number black" onclick="placeBet('number', 33)">33</div>
                        <div class="bet-number red" onclick="placeBet('number', 34)">34</div>
                        <div class="bet-number black" onclick="placeBet('number', 35)">35</div>
                        <div class="bet-number red" onclick="placeBet('number', 36)">36</div>
                    </div>
                    <div class="outside-bets">
                        <div class="bet-option red" onclick="placeBet('color', 'red')">빨강 (2:1)</div>
                        <div class="bet-option black" onclick="placeBet('color', 'black')">검정 (2:1)</div>
                        <div class="bet-option" onclick="placeBet('parity', 'even')">짝수 (2:1)</div>
                        <div class="bet-option" onclick="placeBet('parity', 'odd')">홀수 (2:1)</div>
                        <div class="bet-option" onclick="placeBet('range', 'low')">1-18 (2:1)</div>
                        <div class="bet-option" onclick="placeBet('range', 'high')">19-36 (2:1)</div>
                    </div>
                </div>
            </div>
            <div class="betting-area">
                <div class="bet-controls">
                    <input type="number" id="roulette-bet" placeholder="베팅 금액" min="1" max="1000">
                    <div class="selected-bet" id="selected-bet">베팅을 선택하세요</div>
                    <button onclick="spinRoulette()" id="spin-btn" disabled>스핀!</button>
                </div>
            </div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 블랙잭 게임 -->
        <div id="blackjack-game" class="game-container" style="display: none;">
            <h2>블랙잭</h2>
            <div class="blackjack-table">
                <div class="dealer-area">
                    <h3>딜러</h3>
                    <div id="dealer-cards" class="cards"></div>
                    <div id="dealer-score">점수: 0</div>
                </div>
                <div class="player-area">
                    <h3>플레이어</h3>
                    <div id="player-cards" class="cards"></div>
                    <div id="player-score">점수: 0</div>
                </div>
            </div>
            <div class="blackjack-controls">
                <input type="number" id="blackjack-bet" placeholder="베팅 금액" min="1" max="1000">
                <button onclick="startBlackjack()">게임 시작</button>
                <button id="hit-btn" onclick="hit()" disabled>히트</button>
                <button id="stand-btn" onclick="stand()" disabled>스탠드</button>
            </div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 슬롯머신 게임 -->
        <div id="slots-game" class="game-container" style="display: none;">
            <h2>슬롯머신</h2>
            <div class="slot-machine">
                <div class="reels">
                    <div class="reel" id="reel1">🍒</div>
                    <div class="reel" id="reel2">🍋</div>
                    <div class="reel" id="reel3">🍊</div>
                </div>
            </div>
            <div class="slot-controls">
                <input type="number" id="slot-bet" placeholder="베팅 금액" min="1" max="1000">
                <button onclick="spinSlots()">스핀!</button>
            </div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 포커 게임 -->
        <div id="poker-game" class="game-container" style="display: none;">
            <h2>포커</h2>
            <div class="poker-table">
                <div class="player-hand">
                    <h3>내 패</h3>
                    <div id="poker-player-cards" class="cards"></div>
                </div>
                <div class="computer-hand">
                    <h3>컴퓨터 패</h3>
                    <div id="poker-computer-cards" class="cards"></div>
                </div>
            </div>
            <div class="poker-controls">
                <input type="number" id="poker-bet" placeholder="베팅 금액" min="1" max="1000">
                <button onclick="startPoker()">게임 시작</button>
            </div>
            <div id="poker-result"></div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 바카라 게임 -->
        <div id="baccarat-game" class="game-container" style="display: none;">
            <h2>바카라</h2>
            <div class="baccarat-table">
                <div class="player-area">
                    <h3>플레이어</h3>
                    <div id="baccarat-player-cards" class="cards"></div>
                    <div id="baccarat-player-score">점수: 0</div>
                </div>
                <div class="banker-area">
                    <h3>뱅커</h3>
                    <div id="baccarat-banker-cards" class="cards"></div>
                    <div id="baccarat-banker-score">점수: 0</div>
                </div>
            </div>
            <div class="baccarat-controls">
                <input type="number" id="baccarat-bet" placeholder="베팅 금액" min="1" max="1000">
                <select id="baccarat-choice">
                    <option value="player">플레이어</option>
                    <option value="banker">뱅커</option>
                    <option value="tie">타이</option>
                </select>
                <button onclick="startBaccarat()">게임 시작</button>
            </div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 주사위 게임 -->
        <div id="dice-game" class="game-container" style="display: none;">
            <h2>주사위</h2>
            <div class="dice-area">
                <div class="dice" id="dice1">🎲</div>
                <div class="dice" id="dice2">🎲</div>
                <div id="dice-sum">합계: 0</div>
            </div>
            <div class="dice-controls">
                <input type="number" id="dice-bet" placeholder="베팅 금액" min="1" max="1000">
                <select id="dice-choice">
                    <option value="big">큰 수 (8-12)</option>
                    <option value="small">작은 수 (2-6)</option>
                    <option value="seven">7</option>
                </select>
                <button onclick="rollDice()">주사위 굴리기!</button>
            </div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 동전던지기 게임 -->
        <div id="coinflip-game" class="game-container" style="display: none;">
            <h2>동전던지기</h2>
            <div class="coin-area">
                <div class="coin" id="coin">🪙</div>
            </div>
            <div class="coin-controls">
                <input type="number" id="coin-bet" placeholder="베팅 금액" min="1" max="1000">
                <select id="coin-choice">
                    <option value="heads">앞면</option>
                    <option value="tails">뒷면</option>
                </select>
                <button onclick="flipCoin()">동전 던지기!</button>
            </div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 가위바위보 게임 -->
        <div id="rps-game" class="game-container" style="display: none;">
            <h2>가위바위보 도박</h2>
            <div class="rps-area">
                <div class="player-choice">
                    <h3>내 선택</h3>
                    <div id="player-rps">❓</div>
                </div>
                <div class="vs">VS</div>
                <div class="computer-choice">
                    <h3>컴퓨터</h3>
                    <div id="computer-rps">❓</div>
                </div>
            </div>
            <div class="rps-controls">
                <input type="number" id="rps-bet" placeholder="베팅 금액" min="1" max="1000">
                <div class="rps-buttons">
                    <button onclick="playRPS('rock')">✊ 바위</button>
                    <button onclick="playRPS('paper')">✋ 보</button>
                    <button onclick="playRPS('scissors')">✌️ 가위</button>
                </div>
            </div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 달팽이 레이싱 게임 -->
        <div id="racing-game" class="game-container" style="display: none;">
            <h2>달팽이 레이싱</h2>
            <div class="racing-track">
                <div class="track" id="track1">
                    <span class="lane-number">1</span>
                    <div class="snail" id="snail1">🐌</div>
                    <div class="finish-line">🏁</div>
                </div>
                <div class="track" id="track2">
                    <span class="lane-number">2</span>
                    <div class="snail" id="snail2">🐌</div>
                    <div class="finish-line">🏁</div>
                </div>
                <div class="track" id="track3">
                    <span class="lane-number">3</span>
                    <div class="snail" id="snail3">🐌</div>
                    <div class="finish-line">🏁</div>
                </div>
                <div class="track" id="track4">
                    <span class="lane-number">4</span>
                    <div class="snail" id="snail4">🐌</div>
                    <div class="finish-line">🏁</div>
                </div>
            </div>
            <div class="racing-controls">
                <input type="number" id="racing-bet" placeholder="베팅 금액" min="1" max="1000">
                <select id="snail-choice">
                    <option value="1">1번 달팽이</option>
                    <option value="2">2번 달팽이</option>
                    <option value="3">3번 달팽이</option>
                    <option value="4">4번 달팽이</option>
                </select>
                <button onclick="startRace()">레이스 시작!</button>
            </div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 행운의 바퀴 게임 -->
        <div id="wheel-game" class="game-container" style="display: none;">
            <h2>행운의 바퀴</h2>
            <div class="wheel-area">
                <div class="fortune-wheel" id="fortune-wheel">
                    <div class="wheel-pointer"></div>
                    <div class="wheel-section" data-prize="1000">1000</div>
                    <div class="wheel-section" data-prize="500">500</div>
                    <div class="wheel-section" data-prize="100">100</div>
                    <div class="wheel-section" data-prize="50">50</div>
                    <div class="wheel-section" data-prize="10">10</div>
                    <div class="wheel-section" data-prize="0">꽝</div>
                </div>
            </div>
            <div class="wheel-controls">
                <input type="number" id="wheel-bet" placeholder="베팅 금액" min="1" max="1000">
                <button onclick="spinWheel()">바퀴 돌리기!</button>
            </div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 복권 게임 -->
        <div id="lottery-game" class="game-container" style="display: none;">
            <h2>복권</h2>
            <div class="lottery-area">
                <div class="number-selection">
                    <h3>번호 선택 (1-20 중 5개)</h3>
                    <div class="lottery-numbers" id="lottery-numbers"></div>
                </div>
                <div class="selected-numbers">
                    <h3>선택한 번호</h3>
                    <div id="selected-numbers"></div>
                </div>
            </div>
            <div class="lottery-controls">
                <input type="number" id="lottery-bet" placeholder="베팅 금액" min="1" max="1000">
                <button onclick="buyLottery()">복권 구매!</button>
                <button onclick="clearLotterySelection()">선택 초기화</button>
            </div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 크래시 게임 -->
        <div id="crash-game" class="game-container" style="display: none;">
            <h2>크래시</h2>
            <div class="crash-area">
                <div class="multiplier" id="multiplier">1.00x</div>
                <div class="rocket" id="rocket">🚀</div>
            </div>
            <div class="crash-controls">
                <input type="number" id="crash-bet" placeholder="베팅 금액" min="1" max="1000">
                <button id="crash-start-btn" onclick="startCrash()">게임 시작</button>
                <button id="crash-cashout-btn" onclick="cashOut()" disabled>캐시아웃</button>
            </div>
            <div id="crash-result"></div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- 스포츠 토토 게임 -->
        <div id="sports-game" class="game-container" style="display: none;">
            <h2>⚽ 스포츠 토토</h2>
            <div class="sports-matches" id="sports-matches">
                <!-- 경기 목록이 여기에 동적으로 생성됩니다 -->
            </div>
            <div class="sports-controls">
                <input type="number" id="sports-bet" placeholder="베팅 금액" min="1" max="1000">
                <button onclick="placeSportsBet()">베팅하기</button>
                <button onclick="refreshMatches()">🔄 경기 새로고침</button>
            </div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- PvP 블랙잭 게임 -->
        <div id="pvp-blackjack-game" class="game-container" style="display: none;">
            <h2>🃏 PvP 블랙잭</h2>
            <div class="pvp-status">
                <div class="player-info">
                    <h3>내 정보</h3>
                    <div>닉네임: <span id="my-nickname">Player</span></div>
                    <div>잔액: $<span id="my-balance-pvp">1000</span></div>
                </div>
                <div class="opponent-info">
                    <h3>상대방</h3>
                    <div id="opponent-status">매칭 대기중...</div>
                </div>
            </div>
            <div class="pvp-blackjack-table">
                <div class="my-area">
                    <h3>내 패</h3>
                    <div id="pvp-my-cards" class="cards"></div>
                    <div id="pvp-my-score">점수: 0</div>
                </div>
                <div class="opponent-area">
                    <h3>상대방 패</h3>
                    <div id="pvp-opponent-cards" class="cards"></div>
                    <div id="pvp-opponent-score">점수: 0</div>
                </div>
            </div>
            <div class="pvp-controls">
                <input type="text" id="nickname-input" placeholder="닉네임 입력" maxlength="10">
                <input type="number" id="pvp-blackjack-bet" placeholder="베팅 금액" min="1" max="1000">
                <button onclick="joinPvPBlackjack()">매칭 시작</button>
                <button id="pvp-hit-btn" onclick="pvpHit()" disabled>히트</button>
                <button id="pvp-stand-btn" onclick="pvpStand()" disabled>스탠드</button>
            </div>
            <div id="pvp-blackjack-log" class="game-log"></div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- PvP 포커 게임 -->
        <div id="pvp-poker-game" class="game-container" style="display: none;">
            <h2>🃏 PvP 포커</h2>
            <div class="pvp-status">
                <div class="player-info">
                    <h3>내 정보</h3>
                    <div>닉네임: <span id="poker-my-nickname">Player</span></div>
                    <div>잔액: $<span id="poker-my-balance">1000</span></div>
                </div>
                <div class="opponent-info">
                    <h3>상대방</h3>
                    <div id="poker-opponent-status">매칭 대기중...</div>
                </div>
            </div>
            <div class="pvp-poker-table">
                <div class="my-poker-area">
                    <h3>내 패</h3>
                    <div id="pvp-poker-my-cards" class="cards"></div>
                </div>
                <div class="opponent-poker-area">
                    <h3>상대방 패</h3>
                    <div id="pvp-poker-opponent-cards" class="cards"></div>
                </div>
            </div>
            <div class="pvp-controls">
                <input type="text" id="poker-nickname-input" placeholder="닉네임 입력" maxlength="10">
                <input type="number" id="pvp-poker-bet" placeholder="베팅 금액" min="1" max="1000">
                <button onclick="joinPvPPoker()">매칭 시작</button>
            </div>
            <div id="pvp-poker-log" class="game-log"></div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>

        <!-- PvP 가위바위보 게임 -->
        <div id="pvp-rps-game" class="game-container" style="display: none;">
            <h2>✂️ PvP 가위바위보</h2>
            <div class="pvp-status">
                <div class="player-info">
                    <h3>내 정보</h3>
                    <div>닉네임: <span id="rps-my-nickname">Player</span></div>
                    <div>잔액: $<span id="rps-my-balance">1000</span></div>
                </div>
                <div class="opponent-info">
                    <h3>상대방</h3>
                    <div id="rps-opponent-status">매칭 대기중...</div>
                </div>
            </div>
            <div class="pvp-rps-area">
                <div class="my-rps-choice">
                    <h3>내 선택</h3>
                    <div id="pvp-my-rps">❓</div>
                </div>
                <div class="vs">VS</div>
                <div class="opponent-rps-choice">
                    <h3>상대방</h3>
                    <div id="pvp-opponent-rps">❓</div>
                </div>
            </div>
            <div class="pvp-controls">
                <input type="text" id="rps-nickname-input" placeholder="닉네임 입력" maxlength="10">
                <input type="number" id="pvp-rps-bet" placeholder="베팅 금액" min="1" max="1000">
                <button onclick="joinPvPRPS()">매칭 시작</button>
                <div class="pvp-rps-buttons" id="pvp-rps-buttons" style="display: none;">
                    <button onclick="pvpPlayRPS('rock')">✊ 바위</button>
                    <button onclick="pvpPlayRPS('paper')">✋ 보</button>
                    <button onclick="pvpPlayRPS('scissors')">✌️ 가위</button>
                </div>
            </div>
            <div id="pvp-rps-log" class="game-log"></div>
            <button onclick="showGameSelection()" class="back-btn">게임 선택으로 돌아가기</button>
        </div>
    </main>

    <!-- 도움말 모달 -->
    <div id="help-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeHelp()">&times;</span>
            <h2>🎰 카지노 게임 도움말</h2>
            
            <div class="help-section">
                <h3>🎯 룰렛</h3>
                <p>• 빨강/검정, 홀수/짝수 중 선택하여 베팅</p>
                <p>• 맞추면 베팅 금액의 2배 획득</p>
            </div>

            <div class="help-section">
                <h3>🃏 블랙잭</h3>
                <p><strong>게임 목표:</strong></p>
                <p>• 21에 가까운 숫자를 만드는 것이 목표</p>
                <p>• 21을 초과하면 버스트로 패배</p>
                <p><strong>게임 진행:</strong></p>
                <p>• 플레이어와 딜러가 각각 2장씩 받음</p>
                <p>• 플레이어가 먼저 행동 (히트 또는 스탠드)</p>
                <p>• 플레이어가 스탠드하면 딜러의 카드가 공개됨</p>
                <p>• 딜러는 17 이상이 될 때까지 자동으로 카드를 받음</p>
                <p><strong>카드 값:</strong></p>
                <p>• 숫자 카드: 표시된 숫자 그대로</p>
                <p>• J, Q, K: 10점</p>
                <p>• A: 1점 또는 11점 (유리한 쪽으로 자동 계산)</p>
                <p><strong>결과:</strong></p>
                <p>• 플레이어 승리: 2배 획득</p>
                <p>• 무승부: 베팅 금액 반환</p>
                <p>• 플레이어 패배: 베팅 금액 손실</p>
            </div>

            <div class="help-section">
                <h3>🎰 슬롯머신</h3>
                <p>• 3개 릴이 모두 같으면 대박!</p>
                <p>• 💎 3개: 10배, 7️⃣ 3개: 8배, 기타 3개: 5배</p>
                <p>• 2개 일치: 2배</p>
            </div>

            <div class="help-section">
                <h3>🃏 포커 (홀덤 스타일)</h3>
                <p><strong>게임 진행:</strong></p>
                <p>• 프리플랍: 2장의 개인 카드 받기</p>
                <p>• 플랍: 3장의 커뮤니티 카드 오픈</p>
                <p>• 턴: 1장의 커뮤니티 카드 추가</p>
                <p>• 리버: 마지막 1장의 커뮤니티 카드 추가</p>
                <p><strong>족보 (높은 순서):</strong></p>
                <p>• 로얄 스트레이트 플러시 (같은 무늬 A-K-Q-J-10)</p>
                <p>• 포카드 (같은 숫자 4장)</p>
                <p>• 풀하우스 (같은 숫자 3장 + 2장)</p>
                <p>• 플러시 (같은 무늬 5장)</p>
                <p>• 스트레이트 (연속된 숫자 5장)</p>
                <p>• 트리플 (같은 숫자 3장)</p>
                <p>• 투페어 (같은 숫자 2장 × 2)</p>
                <p>• 원페어 (같은 숫자 2장)</p>
                <p>• 하이카드 (가장 높은 카드)</p>
                <p><strong>베팅:</strong></p>
                <p>• 체크: 베팅하지 않고 진행</p>
                <p>• 레이즈: 베팅 금액 증가</p>
                <p>• 폴드: 게임 포기 (상대 승리)</p>
                <p>• 승리 시 팟 전체 획득</p>
            </div>

            <div class="help-section">
                <h3>🎴 바카라</h3>
                <p>• 플레이어, 뱅커, 타이 중 선택</p>
                <p>• 플레이어 승리: 2배, 뱅커 승리: 1.95배, 타이: 8배</p>
                <p>• 카드 합이 9에 가까운 쪽이 승리</p>
            </div>

            <div class="help-section">
                <h3>🎲 주사위</h3>
                <p>• 큰 수 (8-12): 2배, 작은 수 (2-6): 2배</p>
                <p>• 7 정확히 맞추기: 5배</p>
            </div>

            <div class="help-section">
                <h3>🪙 동전던지기</h3>
                <p>• 앞면 또는 뒷면 선택</p>
                <p>• 맞추면 2배 획득</p>
            </div>

            <div class="help-section">
                <h3>✂️ 가위바위보</h3>
                <p>• 컴퓨터와 가위바위보 대결</p>
                <p>• 승리: 2배, 무승부: 베팅 금액 반환</p>
            </div>

            <div class="help-section">
                <h3>🐌 달팽이 레이싱</h3>
                <p>• 4마리 달팽이 중 우승할 달팽이 선택</p>
                <p>• 맞추면 4배 획득</p>
            </div>

            <div class="help-section">
                <h3>🎡 행운의 바퀴</h3>
                <p>• 바퀴를 돌려 상금 획득</p>
                <p>• 최대 $1000까지 획득 가능</p>
            </div>

            <div class="help-section">
                <h3>🎫 복권</h3>
                <p>• 1-20 중 5개 번호 선택</p>
                <p>• 5개 일치: 1000배, 4개: 100배, 3개: 10배, 2개: 2배</p>
            </div>

            <div class="help-section">
                <h3>🚀 크래시</h3>
                <p>• 배수가 올라가는 동안 언제든 캐시아웃 가능</p>
                <p>• 크래시 전에 캐시아웃하면 배수만큼 획득</p>
                <p>• 너무 늦으면 모든 베팅 금액 손실</p>
            </div>

            <div class="help-section">
                <h3>💾 저장 기능</h3>
                <p>• 게임 진행 상황이 자동으로 저장됩니다</p>
                <p>• 브라우저를 닫아도 잔액이 유지됩니다</p>
                <p>• 리셋 버튼으로 초기 상태로 되돌릴 수 있습니다</p>
            </div>
        </div>
    </div>

    <!-- 통계 모달 -->
    <div id="stats-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeStats()">&times;</span>
            <h2>📊 게임 통계</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>💰 현재 잔액</h3>
                    <p class="stat-value" id="current-balance">$1000</p>
                </div>
                
                <div class="stat-card">
                    <h3>🎮 총 게임 수</h3>
                    <p class="stat-value" id="total-games">0</p>
                </div>
                
                <div class="stat-card">
                    <h3>💸 총 베팅 금액</h3>
                    <p class="stat-value" id="total-bet">$0</p>
                </div>
                
                <div class="stat-card">
                    <h3>💎 총 획득 금액</h3>
                    <p class="stat-value" id="total-won">$0</p>
                </div>
                
                <div class="stat-card">
                    <h3>📈 승률</h3>
                    <p class="stat-value" id="win-rate">0%</p>
                </div>
                
                <div class="stat-card">
                    <h3>🏆 최고 잔액</h3>
                    <p class="stat-value" id="max-balance">$1000</p>
                </div>
            </div>
            
            <div class="game-stats">
                <h3>게임별 통계</h3>
                <div id="game-stats-list"></div>
            </div>
        </div>
    </div>

    <!-- 랭킹 모달 -->
    <div id="ranking-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close" onclick="closeRanking()">&times;</span>
            <h2>🏆 유저 랭킹</h2>
            
            <div class="ranking-tabs">
                <button class="tab-btn active" onclick="showRankingTab('balance')">💰 잔액 랭킹</button>
                <button class="tab-btn" onclick="showRankingTab('wins')">🏅 승수 랭킹</button>
                <button class="tab-btn" onclick="showRankingTab('games')">🎮 게임 수 랭킹</button>
                <button class="tab-btn" onclick="showRankingTab('prediction')">🔮 랭킹 예측</button>
            </div>
            
            <div class="my-rank-info">
                <h3>내 순위</h3>
                <div id="my-rank-display">순위 정보를 불러오는 중...</div>
            </div>
            
            <div class="ranking-list" id="ranking-list">
                <div class="loading">랭킹을 불러오는 중...</div>
            </div>
            
            <!-- 랭킹 예측 베팅 섹션 -->
            <div id="prediction-section" style="display: none;">
                <div class="prediction-info">
                    <h3>🔮 랭킹 예측 베팅</h3>
                    <p>10분 후 랭킹 변화를 예측하고 베팅하세요!</p>
                    <p><strong>정확히 맞추면 베팅액의 100배!</strong></p>
                </div>
                
                <div class="prediction-form">
                    <div class="prediction-inputs">
                        <select id="prediction-player">
                            <option value="">플레이어 선택</option>
                        </select>
                        <select id="prediction-rank">
                            <option value="">예상 순위</option>
                            <option value="1">1위</option>
                            <option value="2">2위</option>
                            <option value="3">3위</option>
                            <option value="4">4위</option>
                            <option value="5">5위</option>
                        </select>
                        <input type="number" id="prediction-bet" placeholder="베팅 금액" min="1" max="1000">
                        <button onclick="placePredictionBet()">예측 베팅</button>
                    </div>
                </div>
                
                <div class="active-predictions" id="active-predictions">
                    <h4>내 예측 베팅</h4>
                    <div id="my-predictions">예측 베팅이 없습니다.</div>
                </div>
                
                <div class="prediction-timer">
                    <h4>다음 랭킹 업데이트까지</h4>
                    <div id="prediction-countdown">10:00</div>
                </div>
            </div>
            
            <div class="ranking-controls">
                <button onclick="submitToRanking()">📤 내 기록 등록</button>
                <button onclick="connectToSupabase()" id="connect-btn">🌐 온라인 연결</button>
            </div>
        </div>
    </div>

    <!-- 로그인 모달 -->
    <div id="login-modal" class="modal" style="display: none;">
        <div class="modal-content auth-modal">
            <span class="close" onclick="closeLogin()">&times;</span>
            <h2>🔐 로그인</h2>
            
            <form id="login-form" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="login-phone">전화번호</label>
                    <input type="tel" id="login-phone" placeholder="010-1234-5678" required>
                </div>
                
                <div class="form-group">
                    <label for="login-password">비밀번호</label>
                    <input type="password" id="login-password" placeholder="비밀번호를 입력하세요" required>
                </div>
                
                <button type="submit" class="auth-btn">로그인</button>
            </form>
            
            <div class="auth-switch">
                <p>계정이 없으신가요? <a href="#" onclick="switchToSignup()">회원가입</a></p>
            </div>
        </div>
    </div>

    <!-- 회원가입 모달 -->
    <div id="signup-modal" class="modal" style="display: none;">
        <div class="modal-content auth-modal">
            <span class="close" onclick="closeSignup()">&times;</span>
            <h2>📝 회원가입</h2>
            
            <form id="signup-form" onsubmit="handleSignup(event)">
                <div class="form-group">
                    <label for="signup-phone">전화번호</label>
                    <input type="tel" id="signup-phone" placeholder="010-1234-5678" required>
                </div>
                
                <div class="form-group">
                    <label for="signup-nickname">닉네임</label>
                    <div class="nickname-input-group">
                        <input type="text" id="signup-nickname" placeholder="닉네임 (2-10자)" required minlength="2" maxlength="10">
                        <button type="button" class="check-btn" onclick="checkNickname()">중복확인</button>
                    </div>
                    <div id="nickname-status" class="input-status"></div>
                </div>
                
                <div class="form-group">
                    <label for="signup-password">비밀번호</label>
                    <input type="password" id="signup-password" placeholder="비밀번호 (8자 이상)" required minlength="8">
                    <div class="password-requirements">
                        <small>• 8자 이상 입력해주세요</small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="signup-password-confirm">비밀번호 확인</label>
                    <input type="password" id="signup-password-confirm" placeholder="비밀번호를 다시 입력하세요" required>
                    <div id="password-match-status" class="input-status"></div>
                </div>
                
                <button type="submit" class="auth-btn" id="signup-btn" disabled>회원가입</button>
            </form>
            
            <div class="auth-switch">
                <p>이미 계정이 있으신가요? <a href="#" onclick="switchToLogin()">로그인</a></p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>